@inject Services Services
@inject BaseAppState AppState

<MudText Typo="Typo.h3" Align="Align.Center" Class="mb-5">@AppState.Translate(ResourceKeys.Feed)</MudText>
@if (AppState?.User?.Citizenships.Count > 1)
{
    <MudSelect T="int?" Label="@(AppState.Translate(ResourceKeys.Community))" ValueChanged="OnCommunityChanged">
        @foreach (CommunityDto community in AppState.User.Citizenships)
        {
            <MudSelectItem Value="@community.Id">@community.Name</MudSelectItem>
        }
    </MudSelect>
}

@foreach(PostDto post in AppState?.Posts ?? [])
{
    <Post PostDto="post" />
}

@code 
{
}
